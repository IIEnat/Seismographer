:root { color-scheme: light dark; }

/* ------ Base ------ */
* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: system-ui, Segoe UI, Roboto, sans-serif;
  background: #0b0b0b;
  color: #eaeaea;
}

/* ------ Containers ------ */
.container { width: min(1200px, 92vw); margin-inline: auto; padding: 12px; }
.container-main { position: relative; }
.container-section { background:#111; border-top:1px solid #222; padding:8px 8px 0; }

/* ------ Header ------ */
header {
  display: flex; align-items: center; gap: 10px; padding: 10px 12px;
  background: #111; color: #fff; position: sticky; top: 0; z-index: 10010;
}
header h1 { font-size:18px; margin:0; font-weight:700; }
header .sep { opacity:.35 }
header label, header .chip { font-size:12px; color:#ddd; }
header select { margin-left:6px; }

/* ------ Layout: map + side panel ------ */
#wrap.with-panel {
  display:grid;
  grid-template-columns: 1fr 320px;
  gap: 12px;
  width: min(1200px, 92vw);
  margin-inline: auto;
  padding: 12px;
  min-height: 520px;
}
#mapWrap { position:relative; min-height: 340px; }
#map, #seismicMap { position:absolute; inset:0; }

/* ------ Side panel ------ */
#sidePanel {
  background:#111; border:1px solid #222; border-radius:12px; padding:12px;
  box-shadow:0 4px 18px rgba(0,0,0,.2); height: 100%; overflow:auto;
}
.panel-section { margin-bottom: 14px; }
.panel-title { font-size:14px; margin:0 0 8px; font-weight:700; }
.panel-kv { display:flex; justify-content:space-between; font-size:12px; margin:4px 0; }
.panel-chips { display:flex; flex-wrap:wrap; gap:6px; }
.panel-note { font-size:11px; opacity:.8; margin-top:6px; }

.legend-row { display:flex; align-items:center; gap:8px; margin:4px 0; font-size:12px; }
.legend-row .sw { width:14px; height:14px; border-radius:3px; border:1px solid rgba(0,0,0,.25); }

/* ------ Tooltip above markers ------ */
.rmsTip { background: rgba(0,0,0,.75); color:#fff; border:none; border-radius:6px; box-shadow:0 2px 10px rgba(0,0,0,.25); }
.rmsTip .leaflet-tooltip-content { margin:6px 8px; font-size:12px; line-height:1.2; }

/* ------ Chips/buttons ------ */
.chip { display:inline-flex; align-items:center; gap:6px; padding:4px 8px; border:1px solid #2a2a2a; border-radius:999px; background:#1a1a1a; color:#eaeaea; cursor:pointer; font-size:12px; }
.chip--muted { opacity:.8; }

.btn { display:inline-flex; align-items:center; justify-content:center; height:32px; padding:0 12px; border-radius:8px; border:1px solid #333; background:#1a1a1a; color:#eaeaea; cursor:pointer; }
.btn:hover { filter: brightness(1.1); }
.btn:active { transform: translateY(1px); }
.btn--primary { background:#2563eb; border-color:#1f4fd1; color:#fff; }
.btn:disabled { opacity:.55; cursor:not-allowed; }

/* ------ Startup overlay ------ */
.overlay-startup {
  position:absolute; inset:0; display:flex; align-items:center; justify-content:center;
  background: rgba(0,0,0,.65); color:#fff; z-index:10020; font-size:14px; pointer-events: none;
}
.overlay-startup__box {
  pointer-events:auto; background: rgba(17,17,17,.95); border:1px solid #333; border-radius:10px;
  padding:12px 16px; box-shadow: 0 10px 28px rgba(0,0,0,.35);
}

/* ------ Wave plot fixed height ------ */
#wave { width: min(1200px, 92vw); height: 360px; min-height: 320px; margin: 0 auto 12px; }

/* ------ Responsive ------ */
@media (max-width: 800px) {
  #wrap.with-panel { grid-template-columns: 1fr; }
  #sidePanel { height:auto; }
}
